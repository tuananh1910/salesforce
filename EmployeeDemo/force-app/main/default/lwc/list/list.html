<template>
    <div style="height: 300px; width:100%; ">

        <c-search
            records={records}
            errors ={errors}
            onsearch={handleSearch}
        >
        </c-search>

        <div class="slds-m-top_small">
            <h1 class="title-table">LIST EMPLOYEE</h1>
        </div>
        
        <div>
            <lightning-button 
                variant="brand" 
                label="Create" 
                title="Create action" 
                onclick={openCreate}
                class="slds-m-left_x-small"
            >
            </lightning-button>
            <template if:true={showDeleteMultiRecordButton}>

                <lightning-button 
                    variant="destructive"
                    label="Delete" 
                    title="Delete action" 
                    onclick={confirmDeletes}
                    class="slds-m-left_x-small"
                >
                </lightning-button>  
            </template>     
        </div>
        <br>
        
        
        <div class="slds-m-aroung_small">
            <template if:true={showTable}>
                <lightning-datatable
                    key-field="Id"
                    data={recordsToDisplay}
                    show-row-number-column="false"
                    columns={columns}
                    onrowaction={handleRowActions}
                    default-sort-direction={defaultSortDirection}
                    sorted-direction={sortDirection}
                    sorted-by={sortedBy}
                    onsort={onHandleSort}
                    onsave={handleSave}
                    draft-values={draftValues}
                    errors={errors}
                    onrowselection={handleSelected}
                >
                </lightning-datatable>
            </template>
        </div>
        <div class="slds-m-around_small">
            <template if:false={errors}>
                <template if:true={records}>
                    <c-pagination
                    records={records}
                    show-table="true"                        
                    recordsperpage="5"
                    onpagination={handlePagination}>
                    </c-pagination>
                </template>
            </template>
        </div>
        
    </div>


    <c-details modal-view={modalView} record-id={recordId} onclose={closeDetails}></c-details>
    <c-create modal-create={modalCreate} onsuccess={createSuccess} onclose={closeCreate}></c-create>
    <c-edit modal-edit={modalEdit} record-id={recordId} onclose={closeEdit}  onsuccess={editSuccess}></c-edit>
    
</template>